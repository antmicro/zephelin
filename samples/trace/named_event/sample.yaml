sample:
  name: simple
common:
  tags: profiling
  harness: console
  harness_config:
    type: one_line
    regex:
      - "zpl_named_event"
tests:
  sample.trace.named_event.plaintext:
    tags: profiling
  sample.trace.named_event.plaintext.robot:
    tags: profiling
    harness: robot
    harness_config:
      robot_testsuite: named_event_plaintext.robot
  sample.trace.named_event.ctf.robot:
    tags: profiling
    extra_configs:
      - CONFIG_TRACING_BUFFER_SIZE=4096
      - CONFIG_ZPL_TRACE_FORMAT_CTF=y
      - CONFIG_BOOT_BANNER=n
      - CONFIG_PRINTK=n
    harness: robot
    harness_config:
      robot_testsuite: named_event_ctf.robot
  sample.trace.named_event.trivial_uart.robot:
    tags: profiling
    platform_allow:
      - max78002evkit/max78002/m4
    extra_configs:
      - CONFIG_ZPL_TRACE_BACKEND_TRIVIAL_UART=y
    harness: robot
    harness_config:
      robot_testsuite: named_event_plaintext_trivial_uart.robot
  sample.trace.named_event.usb:
    tags: profiling
    platform_allow:
      - stm32f429i_disc1/stm32f429xx
    build_only: true
    extra_configs:
      - CONFIG_ZPL_TRACE_BACKEND_USB=y
  sample.trace.named_event.debugger:
    tags: profiling
    extra_configs:
      - CONFIG_ZPL_TRACE_BACKEND_DEBUGGER=y
      - CONFIG_RAM_TRACING_BUFFER_SIZE=10240
    harness: robot
    harness_config:
      robot_testsuite: named_event_plaintext_debugger.robot
