# Copyright (c) 2025 Analog Devices, Inc.
# Copyright (c) 2025 Antmicro <www.antmicro.com>
#
# SPDX-License-Identifier: Apache-2.0

sample:
  name: simple
common:
  tags: profiling
  harness: console
  harness_config:
    type: one_line
    regex:
      - "zpl_tflm_enter_event: subgraph_idx=0 op_idx=0 tag=CONV_2D"
      - "zpl_tflm_exit_event: subgraph_idx=0 op_idx=0 tag=CONV_2D"
tests:
  sample.trace.tflm_profiler.plaintext:
    tags: profiling
  sample.trace.tflm_profiler.plaintext.robot:
    tags: profiling
    harness: robot
    harness_config:
      robot_testsuite: tflm_plaintext.robot
  sample.trace.tflm_profiler.ctf.robot:
    tags: profiling
    extra_configs:
      - CONFIG_TRACING_BUFFER_SIZE=4096
      - CONFIG_ZPL_TRACE_FORMAT_CTF=y
      - CONFIG_BOOT_BANNER=n
      - CONFIG_PRINTK=n
    harness: robot
    harness_config:
      robot_testsuite: tflm_ctf.robot
